{
  "chain_id": "000",
  "goal": "Task description from user",
  "started": "2024-01-01-00-00-00",
  "current_phase": "requirements-clarification",
  "phase_history": [
    {
      "phase": "requirements-clarification",
      "entered": "2024-01-01-00-00-00",
      "exited": null,
      "duration_minutes": null,
      "confidence_on_exit": null,
      "key_discoveries": []
    }
  ],
  "uncertainties": [
    {
      "id": "U001",
      "description": "Unclear requirement or technical uncertainty",
      "category": "requirements|technical|implementation|operational",
      "impact": "critical|high|medium|low",
      "confidence": 0.0,
      "resolution_strategy": "Description of how to resolve",
      "resolved": false,
      "resolution": null
    }
  ],
  "discoveries": {
    "architecture": {
      "pattern": "MVC|Clean|Hexagonal|etc",
      "framework": "Express|None|etc",
      "key_components": [],
      "entry_points": []
    },
    "requirements": {
      "functional": [],
      "non_functional": [],
      "constraints": [],
      "success_criteria": []
    },
    "technical": {
      "dependencies": [],
      "integration_points": [],
      "data_flows": [],
      "security_considerations": []
    },
    "patterns": {
      "coding_conventions": [],
      "testing_approach": null,
      "deployment_method": null
    }
  },
  "decisions": {
    "example_decision": {
      "description": "What was decided",
      "rationale": "Why this choice",
      "alternatives_considered": ["Option A", "Option B"],
      "timestamp": "2024-01-01-00-00-00"
    }
  },
  "clarifications": [
    {
      "question": "Clarifying question asked",
      "answer": "User's response",
      "impact": "How this changed understanding",
      "timestamp": "2024-01-01-00-00-00"
    }
  ],
  "prompts_executed": [
    {
      "prompt_name": "requirement_disambiguator",
      "timestamp": "2024-01-01-00-00-00",
      "uncertainty_before": 0.7,
      "uncertainty_after": 0.3,
      "key_findings": ["Finding 1", "Finding 2"],
      "tokens_used": 0
    }
  ],
  "generated_prompts": [
    {
      "name": "custom_prompt_name",
      "reason": "Why this prompt was needed",
      "effectiveness": 0.0,
      "reusable": false
    }
  ],
  "confidence_scores": {
    "requirements": 0.0,
    "technical_approach": 0.0,
    "implementation_details": 0.0,
    "overall": 0.0
  },
  "confidence_history": [
    {
      "timestamp": "2024-01-01-00-00-00",
      "phase": "requirements-clarification",
      "scores": {
        "requirements": 0.0,
        "technical_approach": 0.0,
        "implementation_details": 0.0,
        "overall": 0.0
      },
      "trigger": "What caused measurement"
    }
  ],
  "session_memory": {
    "key_insights": [],
    "patterns_noticed": [],
    "assumptions_made": [],
    "risks_identified": [],
    "todos_for_implementation": []
  },
  "approval_history": [
    {
      "phase": "solution-approval",
      "presented_solution": "Summary of what was presented",
      "user_response": "approved|rejected|needs_clarification",
      "feedback": "User's specific feedback",
      "timestamp": "2024-01-01-00-00-00"
    }
  ],
  "implementation_tracking": {
    "planned_steps": [],
    "completed_steps": [],
    "test_results": [],
    "issues_encountered": [],
    "refactoring_done": []
  },
  "cost_tracking": {
    "total_tokens": 0,
    "estimated_cost_usd": 0.00,
    "by_phase": {
      "requirements-clarification": {
        "tokens": 0,
        "cost": 0.00
      },
      "context-building": {
        "tokens": 0,
        "cost": 0.00
      },
      "uncertainty-analysis": {
        "tokens": 0,
        "cost": 0.00
      },
      "solution-approval": {
        "tokens": 0,
        "cost": 0.00
      },
      "implementation": {
        "tokens": 0,
        "cost": 0.00
      }
    },
    "by_prompt_type": {}
  },
  "context_health": {
    "score": 10.0,
    "size_bytes": 0,
    "complexity": "low|medium|high",
    "last_checked": "2024-01-01-00-00-00",
    "issues": []
  },
  "patterns_for_reuse": {
    "problem_type": null,
    "solution_pattern": null,
    "key_prompts": [],
    "decision_rationales": [],
    "effectiveness_score": 0.0
  },
  "metadata": {
    "version": "1.0",
    "created": "2024-01-01-00-00-00",
    "last_updated": "2024-01-01-00-00-00",
    "status": "active|paused|completed|abandoned",
    "completion_time_minutes": null,
    "tags": []
  }
}